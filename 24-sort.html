
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://nus-cs1010.github.io/2021-s1/24-sort.html">
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>24. Sorting - CS1010 Programming Methodology</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.3f72e892.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unit-24-sorting" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://nus-cs1010.github.io/2021-s1" title="CS1010 Programming Methodology" class="md-header-nav__button md-logo" aria-label="CS1010 Programming Methodology">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            CS1010 Programming Methodology
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              24. Sorting
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://nus-cs1010.github.io/2021-s1" title="CS1010 Programming Methodology" class="md-nav__button md-logo" aria-label="CS1010 Programming Methodology">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    CS1010 Programming Methodology
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="midterm.html" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="pe1.html" class="md-nav__link">
      PE1
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      General
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="General" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="about.html" class="md-nav__link">
      About CS1010
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="outcomes.html" class="md-nav__link">
      Learning Outcomes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="schedule.html" class="md-nav__link">
      Schedule
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="accounts.html" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="policies.html" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Notes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Notes" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="01-program.html" class="md-nav__link">
      1. What is a Program?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="02-algo.html" class="md-nav__link">
      2. Computational Problem & Algorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="03-func.html" class="md-nav__link">
      3. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="04-type.html" class="md-nav__link">
      4. Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="05-first-c.html" class="md-nav__link">
      5. First C Program
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="06-cs1010-io.html" class="md-nav__link">
      6. CS1010 I/O Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="07-arithmetic-ops.html" class="md-nav__link">
      7. Arithmetic Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="08-if-else.html" class="md-nav__link">
      8. Conditionals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="09-logical-exp.html" class="md-nav__link">
      9. Logical Expressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="10-assert.html" class="md-nav__link">
      10. Assertion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="11-loop.html" class="md-nav__link">
      11. Loops
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="12-invariant.html" class="md-nav__link">
      12. Loop Invariant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="13-call-stack.html" class="md-nav__link">
      13. Call Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="14-pointers.html" class="md-nav__link">
      14. Memory Addresses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="15-array.html" class="md-nav__link">
      15. Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="16-string.html" class="md-nav__link">
      16. String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="17-call-by-reference.html" class="md-nav__link">
      17. Call by Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="18-heap.html" class="md-nav__link">
      18. Heap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="19-md-array.html" class="md-nav__link">
      19. Multi-dimensional Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="20-macro.html" class="md-nav__link">
      20. C Preprocessing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="21-assert.html" class="md-nav__link">
      21. The assert macro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="22-efficiency.html" class="md-nav__link">
      22. Efficiency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="23-search.html" class="md-nav__link">
      23. Searching
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        24. Sorting
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="24-sort.html" class="md-nav__link md-nav__link--active">
      24. Sorting
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sorting" class="md-nav__link">
    Sorting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#counting-sort" class="md-nav__link">
    Counting Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selection-sort" class="md-nav__link">
    Selection Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selection-vs-counting-sort" class="md-nav__link">
    Selection vs Counting Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bubble-sort" class="md-nav__link">
    Bubble Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insertion-sort" class="md-nav__link">
    Insertion Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animation" class="md-nav__link">
    Animation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-set-24" class="md-nav__link">
    Problem Set 24
  </a>
  
    <nav class="md-nav" aria-label="Problem Set 24">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-241" class="md-nav__link">
    Problem 24.1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-242" class="md-nav__link">
    Problem 24.2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-243" class="md-nav__link">
    Problem 24.3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-244" class="md-nav__link">
    Problem 24.4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Exercises
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Exercises" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="ex00.html" class="md-nav__link">
      0. Echo, Divide, Quadratic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex01.html" class="md-nav__link">
      1. GCD, Day, Leap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex02.html" class="md-nav__link">
      2. Binary, Rectangle, Fibonacci
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ex03.html" class="md-nav__link">
      3. Weekday, Circle, Histogram
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Assignments
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Assignments" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="assignment.html" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as01.html" class="md-nav__link">
      1. Box, Digits, Suffix, Taxi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as02.html" class="md-nav__link">
      2. Collatz, Triangle, Prime, Pattern
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as03.html" class="md-nav__link">
      3. ID, Kendall, Max, CountingSort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as04.html" class="md-nav__link">
      4. SelectionSort, Mastermind
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as05.html" class="md-nav__link">
      5. Contact, Social, Life
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as06.html" class="md-nav__link">
      6. Add, Frequency, Permutation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="as07.html" class="md-nav__link">
      7. Peak, Sort, Inversion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="readings.html" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="c-in-cs1010.html" class="md-nav__link">
      C in CS1010
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="library.html" class="md-nav__link">
      CS1010 I/O Library
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="style.html" class="md-nav__link">
      C Style Convention
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="documentation.html" class="md-nav__link">
      C Documentation Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="messages.html" class="md-nav__link">
      Compiler Messages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Software/Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software/Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon"></span>
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="environments.html" class="md-nav__link">
      Programming Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="unix.html" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="clang.html" class="md-nav__link">
      CLang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="vim.html" class="md-nav__link">
      Vim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tmate.html" class="md-nav__link">
      TMate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="zoom.html" class="md-nav__link">
      Zoom
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="archive.html" class="md-nav__link">
      Older Announcements
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="1819s1.html" class="md-nav__link">
      18/19 Sem 1
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sorting" class="md-nav__link">
    Sorting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#counting-sort" class="md-nav__link">
    Counting Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selection-sort" class="md-nav__link">
    Selection Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selection-vs-counting-sort" class="md-nav__link">
    Selection vs Counting Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bubble-sort" class="md-nav__link">
    Bubble Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insertion-sort" class="md-nav__link">
    Insertion Sort
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animation" class="md-nav__link">
    Animation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-set-24" class="md-nav__link">
    Problem Set 24
  </a>
  
    <nav class="md-nav" aria-label="Problem Set 24">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-241" class="md-nav__link">
    Problem 24.1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-242" class="md-nav__link">
    Problem 24.2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-243" class="md-nav__link">
    Problem 24.3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-244" class="md-nav__link">
    Problem 24.4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="unit-24-sorting">Unit 24: Sorting</h1>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After this unit, students should:</p>
<ul>
<li>be familiar with four sorting algorithms: counting sort, selection sort, bubble sort, and insertion sort</li>
<li>be able to implement the above algorithms, argue that they are correct, and analyzing their running time</li>
<li>be aware of the difference between comparison-based sorting algorithms and counting sort</li>
<li>be aware of the situations where insertion sort performs better than selection sort and bubble sort.</li>
<li>be aware of the situations where counting sort performs better than other sorting algorithms.</li>
</ul>
<h2 id="sorting">Sorting</h2>
<p>Sorting is one of the most fundamental computational problems.  Given a list of items, we want to rearrange the items in some order.  We have seen in the previous unit that searching in a sorted list gives us tremendous improvement in efficiency.</p>
<p>In this unit, we assume that the items we wish to rearrange are integers, and we wish to rearrange them in increasing order.  We could, however, in practice, sort any type of items.</p>
<p>We have seen two algorithms to sort in this module: counting sort and selection sort.  We are going to see two more today.</p>
<h2 id="counting-sort">Counting Sort</h2>
<p>Let's revisit counting sort.  We are given an array of numbers, guaranteed to fall between a given range, say 0 to <span class="arithmatex">\(MAX\)</span>.  We can scan through this input array and count how many times each number appears in the input.  We use another array of size <span class="arithmatex">\(MAX+1\)</span> (let's call this the frequency array) to keep track of the counts.  Once we are done, we loop through the frequency array and put the elements back into the output.</p>
<p>Here is the code that implements the counting sort algorithm.
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * Perform counting sort on the input in[] and store the sorted</span>
<span class="cm"> * numbers in out[].</span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] in The array containing numbers to be sorted.</span>
<span class="cm"> * @param[out] out The array containing the sorted numbers.</span>
<span class="cm"> * @param[in] len The size of the input and output array.</span>
<span class="cm"> *</span>
<span class="cm"> * @pre in[i] is between 0 and MAX for all i.</span>
<span class="cm"> * @post out[] is sorted</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="nf">counting_sort</span><span class="p">(</span><span class="k">const</span> <span class="kt">long</span> <span class="n">in</span><span class="p">[],</span> <span class="kt">long</span> <span class="n">out</span><span class="p">[],</span> <span class="kt">long</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">long</span> <span class="n">freq</span><span class="p">[</span><span class="n">MAX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span>

  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">freq</span><span class="p">[</span><span class="n">in</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">long</span> <span class="n">outpos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">MAX</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">j</span> <span class="o">=</span> <span class="n">outpos</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">outpos</span> <span class="o">+</span> <span class="n">freq</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">out</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">outpos</span> <span class="o">+=</span> <span class="n">freq</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table></p>
<p>Let's consider the running time of counting sort.  We will break it down into
three steps of counting sort.</p>
<p>First, initializing <code>freq</code> array to 0 takes <span class="arithmatex">\(O(MAX)\)</span> time.</p>
<p>Second, looping through <code>in</code> and counting takes <span class="arithmatex">\(O(n)\)</span> time (where <span class="arithmatex">\(n\)</span> is <code>len</code>).</p>
<p>What about the third step: populating the output array with sorted numbers?  This step involves a double for loop.  You shouldn't jump to the conclusion that it takes <span class="arithmatex">\(O(MAX^2)\)</span> or <span class="arithmatex">\(O(n^2)\)</span>.  Let's analyze this more carefully.  </p>
<p>We will go with a more intuitive/informal approach first.  What we do here is to store the sorted numbers into the output, there are <span class="arithmatex">\(n\)</span> numbers, so it seems reasonable to assume that this step takes <span class="arithmatex">\(O(n)\)</span> time.</p>
<p>Let's verify now with a more formal and systematic way.  The inner loop:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">j</span> <span class="o">=</span> <span class="n">outpos</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">outpos</span> <span class="o">+</span> <span class="n">freq</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">out</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div>
</td></tr></table>
takes <span class="arithmatex">\(O(f_i)\)</span> time, where <span class="arithmatex">\(f_i\)</span> is the <code>freq[i]</code> the number of times <span class="arithmatex">\(i\)</span> appears.  The outer loop loops through this for different <span class="arithmatex">\(i\)</span>, from <span class="arithmatex">\(i = 0, .. MAX\)</span>.  So the total number of times is:</p>
<div class="arithmatex">\[
\sum_{i=0}^{MAX} f_i
\]</div>
<p>This corresponds to the total number of times each number appears in the input, which is, well, just <span class="arithmatex">\(n\)</span>.  So indeed the third step takes <span class="arithmatex">\(O(n)\)</span>.  </p>
<p>The runnning time for counting sort is thus <span class="arithmatex">\(O(n + n + MAX)\)</span>, which is just <span class="arithmatex">\(O(n + MAX)\)</span>.</p>
<p>Note that since we do not know the relationship between <span class="arithmatex">\(n\)</span> and <span class="arithmatex">\(MAX\)</span>, we cannot simplify this term to either <span class="arithmatex">\(O(n)\)</span> or <span class="arithmatex">\(O(MAX)\)</span>.</p>
<h2 id="selection-sort">Selection Sort</h2>
<p>Recall that selection sort repeatedly find the maximum element and move it to the back of the array (assuming we are sorting in increasing order).  Here is an implementation of selection sort.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * Find the index of the largest element among list[0..last].</span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] last The last element to search.</span>
<span class="cm"> * @param[in] list Input list</span>
<span class="cm"> * @return The index of the max element among list[0..last].</span>
<span class="cm"> *         Breaking ties by choosing the smaller index.</span>
<span class="cm"> * @pre list is not NULL and list[0] .. list[last] are valid.</span>
<span class="cm"> */</span>
<span class="kt">long</span> <span class="nf">max</span><span class="p">(</span><span class="kt">long</span> <span class="n">last</span><span class="p">,</span> <span class="k">const</span> <span class="kt">long</span> <span class="n">list</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">long</span> <span class="n">max_so_far</span> <span class="o">=</span> <span class="n">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
  <span class="kt">long</span> <span class="n">max_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">last</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">max_so_far</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">max_so_far</span> <span class="o">=</span> <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="n">max_index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">max_index</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Sort a list using selection sort.</span>
<span class="cm"> *</span>
<span class="cm"> * @param[in] length The size of the list to sort.</span>
<span class="cm"> * @param[in] list The input list</span>
<span class="cm"> * @pre list is not NULL and list[0]..list[length-1] are valid</span>
<span class="cm"> * @post The list is sorted.</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="nf">selection_sort</span><span class="p">(</span><span class="kt">long</span> <span class="n">length</span><span class="p">,</span> <span class="kt">long</span> <span class="n">list</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">long</span> <span class="n">max_pos</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">max_pos</span> <span class="o">!=</span> <span class="n">length</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="n">max_pos</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="n">length</span> <span class="o">-</span> <span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>What is the running time for selection sort?  Let <span class="arithmatex">\(n\)</span> is the length of the input list (i.e., <code>length</code>).  The for loop iterates through <span class="arithmatex">\(O(n)\)</span> times.<br />
In each loop, it finds the index of the maximum element among list[0] to list[length - i], and then perform a swap to put the maximum element into the rightful position.  Finding the index of the maximum element takes more time than swapping, so let's focus on that (since for Big-O notation we are only concern with the higher-order terms).</p>
<p>The <code>max</code> function has another for loop in it.  And it loops through the list <span class="arithmatex">\(O(n - i)\)</span> times.  The running time is thus:</p>
<div class="arithmatex">\[
\sum_{i=0}^{n} (n - i) = n^2 - \frac{n(n+1)}{2} = \frac{n^2 - n}{2} = O(n^2)
\]</div>
<p>So selection sort takes O(n^2) time.</p>
<h2 id="selection-vs-counting-sort">Selection vs Counting Sort</h2>
<p>Comparing the running of counting sort <span class="arithmatex">\(O(n + MAX)\)</span> vs selection sort <span class="arithmatex">\(O(n^2)\)</span>, it is clear that counting sort is more efficient -- we say that counting sort is a <em>linear time</em> algorithm and selection sort is a <em>quadratic time</em> algorithm.</p>
<p>What is the magic of counting sort?  Why don't we just use counting sort all the time and why bother learning about other sorting algorithms?  </p>
<p>It turns out that counting sort is special because it has an assumption that the input numbers fall into a certain range.  If <span class="arithmatex">\(MAX\)</span> is small, then counting sort is efficient.  If <span class="arithmatex">\(MAX\)</span> is say, the maximum long values, <span class="arithmatex">\(2^{63}-1\)</span>, then counting sort is not necessarily more efficient (both in terms of time and space) in practice than selection sort.  </p>
<p>Because of this assumption, counting sort does not need to compare the inputs during sorting, and thus it can achieve a linear time.</p>
<p>Selection sort, on the other hand, does not assume the range of the input numbers.  It is a <em>comparison sort</em> since it compares the input numbers during sorting.  It is therefore more general and has a wider range of applications.</p>
<p>We now look at two more comparison-based sorting algorithms.</p>
<h2 id="bubble-sort">Bubble Sort</h2>
<p>Bubble sort is probably the most well known, under-performed sorting algorithm<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>, but is taught in most CS classes because of its simplicity.  The idea of bubble sort is to make multiple passes through the list.  In each pass, we look for all possible adjacent pairs of items.  Any adjacent pair that is out of order is swapped so that they are in order.  This process repeats until everything is in order.</p>
<p>Let's look at an example.  Suppose we have, as an input, the numbers <code>8 4 23 42 16 15</code>.  In the first pass, we start from the first item and check from left to right.  The pair <code>8 4</code> is out of order, so we swap them, and we get <code>4 8 23 42 16 15</code>.  The pair <code>8 23</code> and <code>23 42</code> are in order, so we do not need to swap them.  The pair <code>42 16</code> is out of order.  We swap them and get <code>4 8 23 16 42 15</code>.  The pair <code>42 15</code> is again out of order, so we swap them and get <code>4 8 23 16 15 42</code>.</p>
<p>The following sequence show the first pass through the array:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code> 8  4 23 42 16 15   &lt;- swap
-- --
 4  8 23 42 16 15  
   -- --
 4  8 23 42 16 15  
      -- --
 4  8 23 42 16 15   &lt;- swap
         -- --
 4  8 23 16 42 15   &lt;- swap
            -- --
 4  8 23 16 15 42  
</code></pre></div>
</td></tr></table>
<p>After the first pass, notice that the largest element, 42, "bubbles" up through the list until it reaches the maximum position.  We can now make the second pass, but we can exclude the last item since it is already in place.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code> 4  8 23 16 15 42  
-- --
 4  8 23 16 15 42  
   -- --
 4  8 23 16 15 42   &lt;- swap
      -- --
 4  8 16 23 15 42   &lt;- swap
         -- --
 4  8 16 15 23 42   
         -- --
</code></pre></div>
</td></tr></table>
<p>After the second pass, the second largest element, 23, is in its position.  So we can exclude this item in the subsequent pass.</p>
<p>The rest of the passes operates similarly.  In the <span class="arithmatex">\(i\)</span>-th pass, we scan through array item 0 to <span class="arithmatex">\(n-i\)</span>, swapping any adjacent element that is out of order, until <span class="arithmatex">\(i = n - 1\)</span>, in which case we only have two elements, we swap them if we are out of order, and we are done!</p>
<p>The code for bubble sort can be written as follows:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kt">void</span> <span class="nf">bubble_pass</span><span class="p">(</span><span class="kt">long</span> <span class="n">last</span><span class="p">,</span> <span class="kt">long</span> <span class="n">a</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">last</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">bubble_sort</span><span class="p">(</span><span class="kt">long</span> <span class="n">n</span><span class="p">,</span> <span class="kt">long</span> <span class="n">a</span><span class="p">[])</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">last</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">last</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="n">last</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">bubble_pass</span><span class="p">(</span><span class="n">last</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>How many steps does it take to bubble-sort an array of <span class="arithmatex">\(n\)</span> elements?   Since the <span class="arithmatex">\(i\)</span>-th pass scans through <span class="arithmatex">\(n-i\)</span> elements, and there are a <span class="arithmatex">\(n\)</span> passes in total, the analysis is similar to the one we did for the algorithm to compute the Kendall-tau distance -- bubble sort takes <span class="arithmatex">\(O(n^2)\)</span> steps.</p>
<h2 id="insertion-sort">Insertion Sort</h2>
<p>The next sorting algorithm we are going to discuss is the insertion sort.  This is another classic algorithm, that could perform better than bubble sort in some scenarios.  The idea of insertion sort is simple: we partition the input list into two, a sorted partition, and an unsorted partition.  Then we repeatedly take the first element from the unsorted partition, find its rightful place in the sorted partition, and <em>insert</em> it into place.  We start with a sorted partition of one element, and we end if the sorted partition contains all the elements.</p>
<p>Take <code>8 4 23 42 16 15</code> as an example.  I will use <code>|</code> to partition the array into a left sorted partition, and a right, unsorted, partition.  </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>8 | 4 23 42 16 15
</code></pre></div>
</td></tr></table>
<p>We pick the first element on the unsorted partition, 4, and insert it into the sorted partition.  This involves shifting the elements in the sorted partition to the right until we find the rightful place for <code>4</code>.   After this step, the sorted partition grows by 1 and the unsorted partition shrinks by 1.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>4 8 | 23 42 16 15
</code></pre></div>
</td></tr></table>
<p>In the next round, we take <code>23</code>, and finds its rightful place.  It turns out <code>23</code> is already in its correct place.<br />
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>4 8 23 | 42 16 15
</code></pre></div>
</td></tr></table></p>
<p>In the next step, <code>42</code> is also in its correct place.
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>4 8 23 42 | 16 15
</code></pre></div>
</td></tr></table></p>
<p><code>16</code> is the next element, and we insert it between 8 and 23.
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>4 8 16 23 42 | 15
</code></pre></div>
</td></tr></table></p>
<p>Finally, we insert <code>15</code> and we are done, as there is no more element in the unsorted partition.
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>4 8 15 16 23 42
</code></pre></div>
</td></tr></table></p>
<p>The code for insertion sort can be written as follows:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kt">void</span> <span class="nf">insert</span><span class="p">(</span><span class="kt">long</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">long</span> <span class="n">curr</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="n">curr</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kt">long</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">curr</span><span class="p">];</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">temp</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">insertion_sort</span><span class="p">(</span><span class="kt">long</span> <span class="n">n</span><span class="p">,</span> <span class="kt">long</span> <span class="n">a</span><span class="p">[])</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">long</span> <span class="n">curr</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">curr</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">curr</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">insert</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">curr</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p><ins class="critic">Fix</ins> The original code uses the following as loop condition
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>  while (temp &lt; a[i] &amp;&amp; i &gt;= 0) { .. }
</code></pre></div>
</td></tr></table>
which causes an access to <code>a[-1]</code>.  Even though this value is eventually discarded, to be polite we should not access memory locations where we have no permission to.</p>
<h2 id="animation">Animation</h2>
<p>Animations for various sorting algorithms, including some which you will learn in CS2040C, are available online on <a href="https://visualgo.net/bn/sorting">VisuAlgo</a></p>
<h2 id="problem-set-24">Problem Set 24</h2>
<h3 id="problem-241">Problem 24.1</h3>
<p>In the implementation of bubble sort above, we always make <span class="arithmatex">\(n-1\)</span> passes through the array.  It is, however, possible to stop the whole sorting procedure, when a pass through the array does not lead to any swapping.  Modify the code above to achieve this optimization.</p>
<h3 id="problem-242">Problem 24.2</h3>
<p>(a) Suppose the input list to insertion sort is already sorted.  What is the running time of insertion sort?</p>
<p>(b) Suppose the input list to insertion sort is inversely sorted.  What is the running time of insertion sort?</p>
<h3 id="problem-243">Problem 24.3</h3>
<p>What is the loop invariant for the loop in the function <code>insert</code>?</p>
<h3 id="problem-244">Problem 24.4</h3>
<p>In certain scenarios, comparison is more expensive than assignment.  For instance, comparing two strings is more expensive than assigning a string to a variable.  In this case, we can reduce the number of comparisons during insertion sort by doing the following:</p>
<p>repeat</p>
<ul>
<li>take the first element X from unsorted partition</li>
<li>use binary search to find the correct position to insert X</li>
<li>insert X into the right place</li>
</ul>
<p>until the unsorted partition is empty.</p>
<p>Implement the variation to insertion sort above.  You may use your solution from Problem 23.1.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><a href="https://www.youtube.com/watch?v=k4RRi_ntQc8">https://www.youtube.com/watch?v=k4RRi_ntQc8</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="23-search.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                23. Searching
              </div>
            </div>
          </a>
        
        
          <a href="ex00.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                0. Echo, Divide, Quadratic
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Department of Computer Science, National University of Singapore 2020
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  </body>
</html>